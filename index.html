<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="https://raw.githubusercontent.com/pacoDevelop/birthday-/refs/heads/main/sources/imgs/favicon.jpg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sorpresa de CumpleaÃ±os</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <link rel="stylesheet" href="https://raw.githubusercontent.com/pacoDevelop/birthday-/refs/heads/main/sources/css/style.css">
    <script src="https://raw.githubusercontent.com/pacoDevelop/birthday-/refs/heads/main/sources/js/index.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Test Mode Button -->
    <button class="test-mode-button" hidden onclick="toggleTestMode()" id="testModeButton" aria-pressed="false" aria-label="Alternar modo test">
        ðŸ§ª MODO TEST
    </button>
    
    <div class="container">
        <header class="header">
            <h1 class="main-title">Sorpresa de CumpleaÃ±os</h1>
            <p class="subtitle">Un regalo mÃ¡gico te espera</p>
        </header>

        <!-- Control Panel -->
        <div class="control-panel">
            <div  style="display: none" class="mode-indicator" id="modeIndicator">
                Modo Normal
            </div>
            <h3 style="margin-bottom: 20px; color: #8B4513;">Selector de DÃ­as</h3>
            <div class="day-selector">
                <button class="day-button locked" onclick="selectDay(19)" id="day19" aria-disabled="true" aria-label="DÃ­a 19, bloqueado">DÃ­a 19</button>
                <button class="day-button locked" onclick="selectDay(20)" id="day20" aria-disabled="true" aria-label="DÃ­a 20, bloqueado">DÃ­a 20</button>
                <button class="day-button locked" onclick="selectDay(21)" id="day21" aria-disabled="true" aria-label="DÃ­a 21, bloqueado">DÃ­a 21</button>
                <button class="day-button locked" onclick="selectDay(22)" id="day22" aria-disabled="true" aria-label="DÃ­a 22, bloqueado">DÃ­a 22</button>
                <button class="day-button locked" onclick="selectDay(23)" id="day23" aria-disabled="true" aria-label="DÃ­a 23, bloqueado">DÃ­a 23</button>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p style="color: #8B4513; font-size: 0.9rem;">Progreso: <span id="progressText">0/5 completado</span></p>
        </div>

        <!-- Countdown Section -->
        <section class="countdown-section">
            <h2 class="countdown-title">Cuenta Regresiva</h2>
            <div class="countdown-display" id="countdown">
                <div class="countdown-item">
                    <span class="countdown-number" id="days">00</span>
                    <span class="countdown-label">DÃ­as</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="hours">00</span>
                    <span class="countdown-label">Horas</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="minutes">00</span>
                    <span class="countdown-label">Minutos</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="seconds">00</span>
                    <span class="countdown-label">Segundos</span>
                </div>
            </div>
            <p class="countdown-message" id="countdownMessage">Tu sorpresa estarÃ¡ disponible el 23 de noviembre</p>
        </section>

        <!-- Games Grid -->
        <div class="games-grid">
            <!-- Game 1: Mosaico MÃ¡gico Avanzado -->
            <div class="game-card" id="game19">
                <button class="hint-button" onclick="toggleHint('hint19')" aria-label="Mostrar ayuda mosaico">?</button>
                <div class="hint-tooltip" id="hint19">Rota las piezas hasta formar el patrÃ³n completo. Cada pieza tiene 4 orientaciones posibles.</div>
                <h3 class="game-title">Mosaico MÃ¡gico</h3>
                <p class="game-date">DÃ­a 19 - Noviembre</p>
                <div class="game-content">
                    <div class="mosaic-advanced" id="mosaicAdvanced">
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="mosaicProgress"></div>
                    </div>
                </div>
            </div>

            <!-- Game 2: Siluetas del Zoco Mejorado -->
            <div class="game-card" id="game20">
                <button class="hint-button" onclick="toggleHint('hint20')" aria-label="Mostrar ayuda siluetas">?</button>
                <div class="hint-tooltip" id="hint20">Arrastra los objetos a sus siluetas correspondientes. Presta atenciÃ³n a los detalles!</div>
                <h3 class="game-title">Siluetas del Zoco</h3>
                <p class="game-date">DÃ­a 20 - Noviembre</p>
                <div class="game-content">
                    <div class="silhouette-advanced" id="silhouetteAdvanced">
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="silhouetteProgress"></div>
                    </div>
                </div>
            </div>

            <!-- Game 3: Laberinto de Luz Avanzado -->
            <div class="game-card" id="game21">
                <button class="hint-button" onclick="toggleHint('hint21')" aria-label="Mostrar ayuda laberinto">?</button>
                <div class="hint-tooltip" id="hint21">Encuentra el camino desde el inicio hasta el final. Las paredes te bloquean el paso.</div>
                <h3 class="game-title">Laberinto de Luz</h3>
                <p class="game-date">DÃ­a 21 - Noviembre</p>
                <div class="game-content">
                    <div class="labyrinth-advanced" id="labyrinthAdvanced">
                    </div>
                </div>
            </div>

            <!-- Game 4: Puzzle de Especias Complejo -->
            <div class="game-card" id="game22">
                <button class="hint-button" onclick="toggleHint('hint22')" aria-label="Mostrar ayuda especias">?</button>
                <div class="hint-tooltip" id="hint22">Cada especia debe ir en su lugar correcto segÃºn las reglas del puzzle. Â¡Piensa lÃ³gicamente!</div>
                <h3 class="game-title">Puzzle de Especias</h3>
                <p class="game-date">DÃ­a 22 - Noviembre</p>
                <div class="game-content">
                    <div class="spice-puzzle" id="spicePuzzle">
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="spiceProgress"></div>
                    </div>
                </div>
            </div>

            <!-- Game 5: Gran RevelaciÃ³n Mejorada -->
            <div class="game-card" id="game23">
                <button class="hint-button" onclick="toggleHint('hint23')" aria-label="Mostrar ayuda revelaciÃ³n">?</button>
                <div class="hint-tooltip" id="hint23">Haz clic en el cofre para descubrir la gran sorpresa. Â¡El viaje te espera!</div>
                <h3 class="game-title">Gran RevelaciÃ³n</h3>
                <p class="game-date">DÃ­a 23 - Noviembre</p>
                <div class="game-content">
                    <div class="revelation-advanced">
                        <div class="treasure-chest" id="treasureChest" role="button" aria-label="Cofre del tesoro"></div>
                        <div class="revelation-content" id="revelationContent">
                            <h2 style="color: #8B4513; font-family: 'Playfair Display', serif; font-size: 2rem; margin-bottom: 20px;">Â¡Gran Sorpresa!</h2>
                            <p style="color: #654321; font-size: 1.1rem; margin-bottom: 30px;">Tu aventura te espera</p>
                            <div class="photo-gallery" id="photoGallery">
                                <div class="photo-slot" onclick="addPhoto(1)" role="button" aria-label="AÃ±adir foto 1">ðŸ“·</div>
                                <div class="photo-slot" onclick="addPhoto(2)" role="button" aria-label="AÃ±adir foto 2">ðŸ“·</div>
                                <div class="photo-slot" onclick="addPhoto(3)" role="button" aria-label="AÃ±adir foto 3">ðŸ“·</div>
                                <div class="photo-slot" onclick="addPhoto(4)" role="button" aria-label="AÃ±adir foto 4">ðŸ“·</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Message Modal -->
    <div class="success-message" id="successMessage" role="dialog" aria-labelledby="successText">
        <button class="success-close" id="successClose" aria-label="Cerrar">Ã—</button>
        <h3>Â¡Felicitaciones!</h3>
        <p id="successText">Has completado el desafÃ­o</p>
        <p>Espera...</p>
    </div>
    
    <!-- Success Message Modal Ext -->
    <div class="success-message" id="successMessageExt" role="dialog" aria-labelledby="successText">
        <button class="success-close" id="successCloseExt" aria-label="Cerrar">Ã—</button>
        <h3>Â¡Felicitaciones!</h3>
        <p id="successTextExt">Has completado el desafÃ­o</p>
        <br>
        <hr>
        <br>
        <button class="day-button" id="openPuzzle">Abrir puzzle</button>
    </div>
    <!-- Success Message Modal Final -->
    <div class="success-message" id="successMessageFinal" role="dialog" aria-labelledby="successText">
        <button class="success-close" id="successCloseFinal" aria-label="Cerrar">Ã—</button>
        <h3>Â¡Felicitaciones!</h3>
        <p id="successTextFinal">Has completado el desafÃ­o</p>
        <br>
        <input class="inputFinal" type="text" id="finalInput" placeholder="Â¿Sabes la respuesta?">
        <br>
        <br>
        <hr>
        <p id="resultado"></p>
        <br>
        <hr>
        <br>
        <button class="buttonFinal" id="buttonFinal">Comprobar</button>
    </div>
    
     <!-- Success Message Modal -->
    <div class="info-message" id="infoMessage" role="dialog" aria-labelledby="successText">
        <h3>Â¡Hola!</h3>
        <p id="infoText">Has completado el desafÃ­o</p>
    </div>
    
    <!-- Popup -->
    <div id="popupOverlay">
        <div id="popupContainer">
            <button id="popupClose">Ã—</button>
            <img id="popupImage" src="" alt="Imagen">
        </div>
    </div>
    
    <!-- Popup Iframe -->
    <div id="popupOverlayIframe">
        <div id="popupContainerIframe">
            <button id="popupCloseIframe">Ã—</button>
            <iframe id="popupIframe" src="" allow="fullscreen; clipboard-read; clipboard-write; autoplay; encrypted-media; picture-in-picture; web-share"></iframe>

        </div>
    </div>
</body>
</html>
